# âš¡ HyperLiquid Risk Agent - Quick Start\n\n## ğŸš€ 3 Simple Steps\n\n### 1. Add Private Key\n\nEdit `.env` and find this line:\n```bash\nHYPER_LIQUID_ETH_PRIVATE_KEY=your_hyper_liquid_eth_private_key_here\n```\n\nReplace with your actual private key:\n```bash\nHYPER_LIQUID_ETH_PRIVATE_KEY=0x1234567890abcdef...\n```\n\n**Where to get it:**\n- HyperLiquid Testnet/Mainnet â†’ Settings â†’ Export Private Key\n- Your wallet: `0x54Ff2efe9C3dF4e32A8c60628198419D68472B55`\n\n### 2. Verify Setup\n\n```bash\npython3 test_hyperliquid_setup.py\n```\n\nLook for all green checkmarks âœ…\n\n### 3. Start Risk Agent\n\n```bash\npython3 src/agents/risk_agent.py\n```\n\n## ğŸ“Š What It Does\n\n- **Every 15 minutes**: Fetches your HyperLiquid account balance\n- **Monitors positions**: BTC, ETH, SOL (configured)\n- **Tracks PnL**: Records daily balance to CSV\n- **Risk limits**: \n  - Minimum balance: $50 (configurable)\n  - Max loss: $25 USD (configurable)\n  - Max gain: $25 USD (configurable)\n- **Auto-closes**: Positions if limits breached\n\n## ğŸ”§ Configuration (src/config.py)\n\n```python\nEXCHANGE = 'hyperliquid'                 # Active exchange\nHYPERLIQUID_SYMBOLS = ['BTC', 'ETH', 'SOL']  # Monitored symbols\nHYPERLIQUID_LEVERAGE = 5                 # Default leverage\n\n# Risk thresholds\nMINIMUM_BALANCE_USD = 50                 # Minimum account balance\nMAX_LOSS_USD = 25                        # Max loss before closing\nMAX_GAIN_USD = 25                        # Max gain before closing\nSLEEP_BETWEEN_RUNS_MINUTES = 15          # Check interval\n\n# AI decision-making\nUSE_AI_CONFIRMATION = True               # Consult AI before closing\nAI_MODEL = \"deepseek-chat\"               # Model to use\n```\n\n## ğŸ“ˆ Expected Output\n\n```\nğŸ›¡ï¸ Risk Agent initialized!\nğŸ” Moon Dev's Portfolio Value Calculator Starting... ğŸš€\nğŸ”„ Using HyperLiquid exchange...\nğŸ’ HyperLiquid Portfolio Value: $1,234.56 ğŸŒ™\n\nğŸ’° Current PnL: $50.00\nğŸ’¼ Current Balance: $1,234.56\nğŸ“‰ Minimum Balance Limit: $50.00\nâœ… All risk limits OK\n```\n\n## ğŸ†˜ Troubleshooting\n\n### \"HYPER_LIQUID_ETH_PRIVATE_KEY not found\"\n- Check `.env` file exists\n- Verify key is not placeholder text\n- Run: `cat .env | grep HYPER_LIQUID`\n\n### \"Non-hexadecimal digit found\"\n- Private key format incorrect\n- Should start with `0x` or be hex only\n- Check no extra spaces/newlines\n\n### \"Failed to retrieve token list\"\n- You switched to HyperLiquid correctly âœ…\n- This error is **expected** and now **ignored**\n- Risk Agent queries HyperLiquid instead\n\n### \"No HyperLiquid positions\"\n- You have no open positions\n- Minimum balance check still runs\n- Agent operates normally\n\n## ğŸ“š Reference\n\n**New functions created:**\n- `get_hyperliquid_account()` - Load account\n- `get_hyperliquid_portfolio_value()` - Total value\n- `get_hyperliquid_positions()` - Open positions\n- `get_hyperliquid_position_value_usd()` - Single position value\n- `close_hyperliquid_position()` - Close a position\n\n**Modified functions:**\n- `get_token_balance_usd()` - Now routes to HyperLiquid\n- `get_portfolio_value()` - Exchange detection added\n- `close_all_positions()` - HyperLiquid support added\n- `handle_limit_breach()` - Exchange detection added\n\n## âœ… Testing Checklist\n\n- [ ] Private key added to `.env`\n- [ ] `test_hyperliquid_setup.py` passes\n- [ ] Risk Agent shows \"ğŸ”„ Using HyperLiquid exchange...\"\n- [ ] Portfolio value displays correctly\n- [ ] No authentication errors (401)\n- [ ] Risk limits work as expected\n\n## ğŸ¯ Next: Customize Risk Parameters\n\nEdit `src/config.py` to adjust:\n- Which symbols to monitor: `HYPERLIQUID_SYMBOLS`\n- Risk limits: `MINIMUM_BALANCE_USD`, `MAX_LOSS_USD`, `MAX_GAIN_USD`\n- Check frequency: `SLEEP_BETWEEN_RUNS_MINUTES`\n- AI models: `AI_MODEL`, `AI_MODEL_FALLBACK`\n"}